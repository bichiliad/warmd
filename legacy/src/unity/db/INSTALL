# On the production server (currently reverie.vi.ri.cmu.edu)

# COPY DB use passwd	user wrct	enhanced	wrct database
mysqldump -p		-u wrct 	-e		wrct > wrct.db

# On your own machine

scp user@reverie.vi.ri.cmu.edu:wrct.db .
mysql -p -u root
# Now paste in the following lines, without #'s:

# CREATE DATABASE IF NOT EXISTS wrct;
#
# USE wrct;
#
# GRANT ALL ON wrct.* TO wrct@localhost
#  IDENTIFIED BY 'freeform' WITH GRANT OPTION;
#
#GRANT CREATE, DELETE, INSERT, SELECT, UPDATE ON wrct.* TO www@localhost
#  IDENTIFIED BY 'wrct';

# exit

# Added by dpo, 6/15/02
# Now, import the database you just scp'ed into your local mysql
# This may take a minute or two, depending on your machine
mysql -p -u wrct wrct < wrct.db

# Now back on the command line....
#		or whatever it is on the dev machine
setenv CVSROOT :pserver:user@reverie.vi.ri.cmu.edu:/Repository
			# you'll need the admin to make you a
			# cvs passwd entry.

cvs login
# cd to wherever you want the code to be dumped, $CODE from now on
cvs co wrct

# cd to your httpd document home.
mkdir StyleSheets
ln -s $CODE/style StyleSheets/wrct
mkdir Includes
ln -s $CODE/inc Includes/wrct
mkdir img
ln -s $CODE/img img/wrct

# cd to your httpd cgi-bin directory
ln -s $CODE/cgi-bin wrct

# Now edit your httpd.conf, and add the line:
# SetEnvIf Request_URI "\/wrct\/" WWW_SITE=$CODE
# (without the #, of course, and replace $CODE with the actual dir)
# Now restart your httpd.

# Check the url http://your.host.name/cgi-bin/wrct/index.cgi
# You should have an exact mirror of the database!

# Added by dpo, 6/15/02
# IMPORTANT NOTE!!
# The database was originally written on Mac OS X which is NOT case sensitive
# If you are trying to load it onto any traditional variant of Unix/BSD,
# you'll have to add some additional symbolic links to the
# wrct/perl-lib/tables. For example, UserTask.pl must be linked to
# usertask.pl.

# Note you'll need to have FollowSymLinks turned on for your cgi-bin
# and DocumentRoot directories.
# You also have to have the DBD::mysql module installed for perl.
# If you don't have it, get it from CPAN ('perldoc CPAN' for info
# on how to do that).
